{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = unsavedChildren;\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n */\n\n\nfunction unsavedChildren(obj\n/*: ParseObject*/\n, allowDeepUnsaved\n/*:: ?: boolean*/\n)\n/*: Array<ParseFile | ParseObject>*/\n{\n  var encountered = {\n    objects: {},\n    files: []\n  };\n\n  var identifier = obj.className + ':' + obj._getId();\n\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n\n  var unsaved = [];\n\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\n\nfunction traverse(obj\n/*: ParseObject*/\n, encountered\n/*: EncounterMap*/\n, shouldThrow\n/*: boolean*/\n, allowDeepUnsaved\n/*: boolean*/\n) {\n  if (obj instanceof _ParseObject.default) {\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n\n    var _identifier = obj.className + ':' + obj._getId();\n\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseFile.default) {\n    var _context;\n\n    if (!obj.url() && (0, _indexOf.default)(_context = encountered.files).call(_context, obj) < 0) {\n      encountered.files.push(obj);\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}","map":{"version":3,"sources":["/home/roxana/React-Project/datafilter/node_modules/parse/lib/browser/unsavedChildren.js"],"names":["_interopRequireDefault","require","_Object$defineProperty","exports","value","default","unsavedChildren","_forEach","_isArray","_indexOf","_concat","_typeof2","_ParseFile","_ParseObject","_ParseRelation","obj","allowDeepUnsaved","encountered","objects","files","identifier","className","_getId","dirty","attributes","attr","traverse","unsaved","id","push","call","shouldThrow","Error","_identifier","_context","url","el","k"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = unsavedChildren;\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n */\n\n\nfunction unsavedChildren(obj\n/*: ParseObject*/\n, allowDeepUnsaved\n/*:: ?: boolean*/\n)\n/*: Array<ParseFile | ParseObject>*/\n{\n  var encountered = {\n    objects: {},\n    files: []\n  };\n\n  var identifier = obj.className + ':' + obj._getId();\n\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n\n  var unsaved = [];\n\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\n\nfunction traverse(obj\n/*: ParseObject*/\n, encountered\n/*: EncounterMap*/\n, shouldThrow\n/*: boolean*/\n, allowDeepUnsaved\n/*: boolean*/\n) {\n  if (obj instanceof _ParseObject.default) {\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n\n    var _identifier = obj.className + ':' + obj._getId();\n\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseFile.default) {\n    var _context;\n\n    if (!obj.url() && (0, _indexOf.default)(_context = encountered.files).call(_context, obj) < 0) {\n      encountered.files.push(obj);\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}"]},"metadata":{},"sourceType":"script"}