{"ast":null,"code":"var _jsxFileName = \"/home/roxana/React-Project/crud/src/components/clouse/ClouseView.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Input, DatePicker, Select, Switch } from 'antd';\nimport clouseController from './clouseController';\nconst InputGroup = Input.Group;\nconst {\n  Option\n} = Select;\n\nconst fieldOptions = fields => {\n  const fieldNames = Array.from(fields.keys());\n  return fieldNames.map((item, index) => React.createElement(Option, {\n    key: index,\n    value: item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, item.toUpperCase()));\n};\n\nconst constraintOptions = (constraints, fields, fieldName) => {\n  const fieldType = fields.get(fieldName);\n  const constrains = Array.from(constraints.get(fieldType));\n  return constrains.map((item, index) => React.createElement(Option, {\n    key: index,\n    value: item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, item.toUpperCase()));\n};\n\nconst ClouseView = props => {\n  const {\n    deleteClouse,\n    queryIndex,\n    fields,\n    constraints\n  } = props;\n  const {\n    setFieldName,\n    data,\n    setConstraint,\n    setFieldValue\n  } = clouseController(props);\n  console.log('clouse');\n  console.log('props quety', props.query.toJSON());\n  console.log('state quety', data.query.toJSON());\n  const jSonQuery = props.query.toJSON();\n\n  const generateInputByType = fieldType => {\n    switch (fieldType) {\n      case 'string':\n        return React.createElement(Input, {\n          value: Object.values(props.query.toJSON().where)[0] || null,\n          style: {\n            width: '9.5vw'\n          },\n          placeholder: \"String\",\n          onChange: e => setFieldValue(e.target.value),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n\n      case 'time':\n        return React.createElement(DatePicker, {\n          style: {\n            width: '9.5vw'\n          },\n          onChange: (date, dateString) => setFieldValue(dateString),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n\n      case 'number':\n        return React.createElement(Input, {\n          value: Object.values(props.query.toJSON().where)[0] || null,\n          style: {\n            width: '9.5vw'\n          },\n          placeholder: \"Number\",\n          type: \"number\",\n          onChange: e => setFieldValue(e.target.value),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        });\n\n      case 'boolean':\n        return React.createElement(Switch, {\n          style: {\n            marginLeft: '10px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        });\n\n      default:\n        return React.createElement(Input, {\n          style: {\n            width: '10vw'\n          },\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        });\n    }\n  };\n\n  return React.createElement(InputGroup, {\n    compact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Select, {\n    style: {\n      width: '5vw'\n    },\n    defaultValue: Object.keys(jSonQuery.where)[0] || 'name',\n    onChange: value => setFieldName(value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, fieldOptions(fields)), React.createElement(Select, {\n    style: {\n      width: '7vw'\n    },\n    defaultValue: \"EqualTo\",\n    onChange: value => setConstraint(value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, constraintOptions(constraints, fields, data.fieldName)), generateInputByType(fields.get(Object.keys(jSonQuery.where)[0] || data.fieldName)), React.createElement(Button, {\n    icon: \"close\",\n    onClick: () => deleteClouse(queryIndex),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })));\n};\n\nClouseView.propTypes = {\n  deleteClouse: PropTypes.func.isRequired,\n  queryIndex: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  fields: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  constraints: PropTypes.object.isRequired\n};\nexport default ClouseView;","map":{"version":3,"sources":["/home/roxana/React-Project/crud/src/components/clouse/ClouseView.jsx"],"names":["React","PropTypes","Button","Input","DatePicker","Select","Switch","clouseController","InputGroup","Group","Option","fieldOptions","fields","fieldNames","Array","from","keys","map","item","index","toUpperCase","constraintOptions","constraints","fieldName","fieldType","get","constrains","ClouseView","props","deleteClouse","queryIndex","setFieldName","data","setConstraint","setFieldValue","console","log","query","toJSON","jSonQuery","generateInputByType","Object","values","where","width","e","target","value","date","dateString","marginLeft","propTypes","func","isRequired","number","object"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Input, DatePicker, Select, Switch,\n} from 'antd';\nimport clouseController from './clouseController';\n\nconst InputGroup = Input.Group;\nconst { Option } = Select;\n\nconst fieldOptions = (fields) => {\n  const fieldNames = Array.from(fields.keys());\n  return fieldNames.map((item, index) => (\n    <Option\n      key={index}\n      value={item}\n    >\n      {item.toUpperCase()}\n    </Option>\n  ));\n};\n\nconst constraintOptions = (constraints, fields, fieldName) => {\n  const fieldType = fields.get(fieldName);\n  const constrains = Array.from(constraints.get(fieldType));\n  return constrains.map((item, index) => (\n    <Option\n      key={index}\n      value={item}\n    >\n      {item.toUpperCase()}\n    </Option>\n  ));\n};\n\nconst ClouseView = (props) => {\n  const {\n    deleteClouse,\n    queryIndex,\n    fields,\n    constraints,\n\n  } = props;\n  const {\n    setFieldName,\n    data,\n    setConstraint,\n    setFieldValue,\n  } = clouseController(props);\n  console.log('clouse');\n  console.log('props quety', props.query.toJSON());\n  console.log('state quety', data.query.toJSON());\n\n  const jSonQuery = props.query.toJSON();\n\n  const generateInputByType = (fieldType) => {\n    switch (fieldType) {\n      case 'string':\n        return (\n          <Input\n            value={Object.values(props.query.toJSON().where)[0] || null}\n            style={{ width: '9.5vw' }}\n            placeholder=\"String\"\n            onChange={(e) => setFieldValue(e.target.value)}\n          />\n        );\n      case 'time':\n        return (\n          <DatePicker\n            style={{ width: '9.5vw' }}\n            onChange={(date, dateString) => setFieldValue(dateString)}\n          />\n        );\n      case 'number':\n        return (\n          <Input\n            value={Object.values(props.query.toJSON().where)[0] || null}\n            style={{ width: '9.5vw' }}\n            placeholder=\"Number\"\n            type=\"number\"\n            onChange={(e) => setFieldValue(e.target.value)}\n          />\n        );\n      case 'boolean':\n        return <Switch style={{ marginLeft: '10px' }} />;\n\n      default:\n        return <Input style={{ width: '10vw' }} disabled />;\n    }\n  };\n\n\n  return (\n    <InputGroup compact>\n      <span>\n        <Select\n          style={{ width: '5vw' }}\n          defaultValue={Object.keys(jSonQuery.where)[0] || 'name'}\n          onChange={(value) => setFieldName(value)}\n        >\n          {fieldOptions(fields)}\n        </Select>\n        <Select\n          style={{ width: '7vw' }}\n          defaultValue=\"EqualTo\"\n          onChange={(value) => setConstraint(value)}\n        >\n          {constraintOptions(constraints, fields, data.fieldName)}\n        </Select>\n        {generateInputByType((fields.get(Object.keys(jSonQuery.where)[0] || data.fieldName)))}\n        <Button icon=\"close\" onClick={() => deleteClouse(queryIndex)} />\n      </span>\n    </InputGroup>\n  );\n};\n\n\nClouseView.propTypes = {\n  deleteClouse: PropTypes.func.isRequired,\n  queryIndex: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  fields: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  constraints: PropTypes.object.isRequired,\n\n};\n\nexport default ClouseView;\n"]},"metadata":{},"sourceType":"module"}