{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/*:: type Task = {\n  task: () => Promise;\n  _completion: Promise\n};*/\n\n\nvar TaskQueue =\n/*#__PURE__*/\nfunction () {\n  function TaskQueue() {\n    (0, _classCallCheck2.default)(this, TaskQueue);\n    (0, _defineProperty2.default)(this, \"queue\", void 0);\n    this.queue = [];\n  }\n\n  (0, _createClass2.default)(TaskQueue, [{\n    key: \"enqueue\",\n    value: function (task\n    /*: () => Promise*/\n    )\n    /*: Promise*/\n    {\n      var _this = this;\n\n      var res;\n      var rej;\n      var taskComplete = new _promise.default(function (resolve, reject) {\n        res = resolve;\n        rej = reject;\n      });\n      taskComplete.resolve = res;\n      taskComplete.reject = rej;\n      this.queue.push({\n        task: task,\n        _completion: taskComplete\n      });\n\n      if (this.queue.length === 1) {\n        task().then(function () {\n          _this._dequeue();\n\n          taskComplete.resolve();\n        }, function (error) {\n          _this._dequeue();\n\n          taskComplete.reject(error);\n        });\n      }\n\n      return taskComplete;\n    }\n  }, {\n    key: \"_dequeue\",\n    value: function () {\n      var _this2 = this;\n\n      this.queue.shift();\n\n      if (this.queue.length) {\n        var next = this.queue[0];\n        next.task().then(function () {\n          _this2._dequeue();\n\n          next._completion.resolve();\n        }, function (error) {\n          _this2._dequeue();\n\n          next._completion.reject(error);\n        });\n      }\n    }\n  }]);\n  return TaskQueue;\n}();\n\nmodule.exports = TaskQueue;","map":{"version":3,"sources":["/home/roxana/React-Project/crud/node_modules/parse/lib/browser/TaskQueue.js"],"names":["_interopRequireDefault","require","_promise","_classCallCheck2","_createClass2","_defineProperty2","TaskQueue","default","queue","key","value","task","_this","res","rej","taskComplete","resolve","reject","push","_completion","length","then","_dequeue","error","_this2","shift","next","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,sDAAD,CAApC;;AAEA,IAAIC,QAAQ,GAAGF,sBAAsB,CAACC,OAAO,CAAC,+CAAD,CAAR,CAArC;;AAEA,IAAIE,gBAAgB,GAAGH,sBAAsB,CAACC,OAAO,CAAC,+CAAD,CAAR,CAA7C;;AAEA,IAAIG,aAAa,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,4CAAD,CAAR,CAA1C;;AAEA,IAAII,gBAAgB,GAAGL,sBAAsB,CAACC,OAAO,CAAC,+CAAD,CAAR,CAA7C;AACA;;;;;;;;;;;AAWA;;;;;;AAMA,IAAIK,SAAS;AACb;AACA,YAAY;AACV,WAASA,SAAT,GAAqB;AACnB,KAAC,GAAGH,gBAAgB,CAACI,OAArB,EAA8B,IAA9B,EAAoCD,SAApC;AACA,KAAC,GAAGD,gBAAgB,CAACE,OAArB,EAA8B,IAA9B,EAAoC,OAApC,EAA6C,KAAK,CAAlD;AACA,SAAKC,KAAL,GAAa,EAAb;AACD;;AAED,GAAC,GAAGJ,aAAa,CAACG,OAAlB,EAA2BD,SAA3B,EAAsC,CAAC;AACrCG,IAAAA,GAAG,EAAE,SADgC;AAErCC,IAAAA,KAAK,EAAE,UAAUC;AACjB;AADO;AAGP;AACA;AACE,UAAIC,KAAK,GAAG,IAAZ;;AAEA,UAAIC,GAAJ;AACA,UAAIC,GAAJ;AACA,UAAIC,YAAY,GAAG,IAAIb,QAAQ,CAACK,OAAb,CAAqB,UAAUS,OAAV,EAAmBC,MAAnB,EAA2B;AACjEJ,QAAAA,GAAG,GAAGG,OAAN;AACAF,QAAAA,GAAG,GAAGG,MAAN;AACD,OAHkB,CAAnB;AAIAF,MAAAA,YAAY,CAACC,OAAb,GAAuBH,GAAvB;AACAE,MAAAA,YAAY,CAACE,MAAb,GAAsBH,GAAtB;AACA,WAAKN,KAAL,CAAWU,IAAX,CAAgB;AACdP,QAAAA,IAAI,EAAEA,IADQ;AAEdQ,QAAAA,WAAW,EAAEJ;AAFC,OAAhB;;AAKA,UAAI,KAAKP,KAAL,CAAWY,MAAX,KAAsB,CAA1B,EAA6B;AAC3BT,QAAAA,IAAI,GAAGU,IAAP,CAAY,YAAY;AACtBT,UAAAA,KAAK,CAACU,QAAN;;AAEAP,UAAAA,YAAY,CAACC,OAAb;AACD,SAJD,EAIG,UAAUO,KAAV,EAAiB;AAClBX,UAAAA,KAAK,CAACU,QAAN;;AAEAP,UAAAA,YAAY,CAACE,MAAb,CAAoBM,KAApB;AACD,SARD;AASD;;AAED,aAAOR,YAAP;AACD;AAnCoC,GAAD,EAoCnC;AACDN,IAAAA,GAAG,EAAE,UADJ;AAEDC,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAIc,MAAM,GAAG,IAAb;;AAEA,WAAKhB,KAAL,CAAWiB,KAAX;;AAEA,UAAI,KAAKjB,KAAL,CAAWY,MAAf,EAAuB;AACrB,YAAIM,IAAI,GAAG,KAAKlB,KAAL,CAAW,CAAX,CAAX;AACAkB,QAAAA,IAAI,CAACf,IAAL,GAAYU,IAAZ,CAAiB,YAAY;AAC3BG,UAAAA,MAAM,CAACF,QAAP;;AAEAI,UAAAA,IAAI,CAACP,WAAL,CAAiBH,OAAjB;AACD,SAJD,EAIG,UAAUO,KAAV,EAAiB;AAClBC,UAAAA,MAAM,CAACF,QAAP;;AAEAI,UAAAA,IAAI,CAACP,WAAL,CAAiBF,MAAjB,CAAwBM,KAAxB;AACD,SARD;AASD;AACF;AAnBA,GApCmC,CAAtC;AAyDA,SAAOjB,SAAP;AACD,CAjED,EAFA;;AAqEAqB,MAAM,CAACC,OAAP,GAAiBtB,SAAjB","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/*:: type Task = {\n  task: () => Promise;\n  _completion: Promise\n};*/\n\n\nvar TaskQueue =\n/*#__PURE__*/\nfunction () {\n  function TaskQueue() {\n    (0, _classCallCheck2.default)(this, TaskQueue);\n    (0, _defineProperty2.default)(this, \"queue\", void 0);\n    this.queue = [];\n  }\n\n  (0, _createClass2.default)(TaskQueue, [{\n    key: \"enqueue\",\n    value: function (task\n    /*: () => Promise*/\n    )\n    /*: Promise*/\n    {\n      var _this = this;\n\n      var res;\n      var rej;\n      var taskComplete = new _promise.default(function (resolve, reject) {\n        res = resolve;\n        rej = reject;\n      });\n      taskComplete.resolve = res;\n      taskComplete.reject = rej;\n      this.queue.push({\n        task: task,\n        _completion: taskComplete\n      });\n\n      if (this.queue.length === 1) {\n        task().then(function () {\n          _this._dequeue();\n\n          taskComplete.resolve();\n        }, function (error) {\n          _this._dequeue();\n\n          taskComplete.reject(error);\n        });\n      }\n\n      return taskComplete;\n    }\n  }, {\n    key: \"_dequeue\",\n    value: function () {\n      var _this2 = this;\n\n      this.queue.shift();\n\n      if (this.queue.length) {\n        var next = this.queue[0];\n        next.task().then(function () {\n          _this2._dequeue();\n\n          next._completion.resolve();\n        }, function (error) {\n          _this2._dequeue();\n\n          next._completion.reject(error);\n        });\n      }\n    }\n  }]);\n  return TaskQueue;\n}();\n\nmodule.exports = TaskQueue;"]},"metadata":{},"sourceType":"script"}