{"ast":null,"code":"/*\n * Copyright (c) 2019-present, The Yumcoder Authors. All rights reserved.\n *\n * This source code is licensed under the license found in the LICENSE file in\n * the root directory of this source tree.\n */\n\n/* eslint-disable react-hooks/exhaustive-deps */\n\n/* eslint-disable no-underscore-dangle */\nimport { useEffect } from 'react';\nimport emitter from './emitter';\n\nconst withEmitter = fn => (props = {}) => {\n  const params = { ...props,\n    emitter\n  };\n\n  if (fn) {\n    useEffect(() => {\n      params.__tokens__ = fn.call(props, params);\n    });\n  } // When you return a function in the callback passed to useEffect,\n  // the returned function will be called before the component is removed from the UI\n\n\n  useEffect(() => () => {\n    if (params.__tokens__ !== undefined) {\n      params.__tokens__.map(t => t.remove()); // remove all regisered tokens\n\n    }\n  });\n  return { ...props,\n    emitter\n  };\n};\n\nexport default withEmitter;","map":{"version":3,"sources":["/home/roxana/React-Project/crud/src/util/withEmitter.js"],"names":["useEffect","emitter","withEmitter","fn","props","params","__tokens__","call","undefined","map","t","remove"],"mappings":"AAAA;;;;;;;AAOA;;AACA;AACA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,WAAW,GAAGC,EAAE,IAAI,CAACC,KAAK,GAAG,EAAT,KAAgB;AACxC,QAAMC,MAAM,GAAG,EAAE,GAAGD,KAAL;AAAYH,IAAAA;AAAZ,GAAf;;AACA,MAAIE,EAAJ,EAAQ;AACNH,IAAAA,SAAS,CAAC,MAAM;AACdK,MAAAA,MAAM,CAACC,UAAP,GAAoBH,EAAE,CAACI,IAAH,CAAQH,KAAR,EAAeC,MAAf,CAApB;AACD,KAFQ,CAAT;AAGD,GANuC,CAQxC;AACA;;;AACAL,EAAAA,SAAS,CAAC,MAAM,MAAM;AACpB,QAAIK,MAAM,CAACC,UAAP,KAAsBE,SAA1B,EAAqC;AACnCH,MAAAA,MAAM,CAACC,UAAP,CAAkBG,GAAlB,CAAsBC,CAAC,IAAIA,CAAC,CAACC,MAAF,EAA3B,EADmC,CACK;;AACzC;AACF,GAJQ,CAAT;AAMA,SAAO,EAAE,GAAGP,KAAL;AAAYH,IAAAA;AAAZ,GAAP;AACD,CAjBD;;AAmBA,eAAeC,WAAf","sourcesContent":["/*\n * Copyright (c) 2019-present, The Yumcoder Authors. All rights reserved.\n *\n * This source code is licensed under the license found in the LICENSE file in\n * the root directory of this source tree.\n */\n\n/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-underscore-dangle */\nimport { useEffect } from 'react';\nimport emitter from './emitter';\n\nconst withEmitter = fn => (props = {}) => {\n  const params = { ...props, emitter };\n  if (fn) {\n    useEffect(() => {\n      params.__tokens__ = fn.call(props, params);\n    });\n  }\n\n  // When you return a function in the callback passed to useEffect,\n  // the returned function will be called before the component is removed from the UI\n  useEffect(() => () => {\n    if (params.__tokens__ !== undefined) {\n      params.__tokens__.map(t => t.remove()); // remove all regisered tokens\n    }\n  });\n\n  return { ...props, emitter };\n};\n\nexport default withEmitter;\n"]},"metadata":{},"sourceType":"module"}