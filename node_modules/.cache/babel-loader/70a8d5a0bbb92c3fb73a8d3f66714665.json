{"ast":null,"code":"var _jsxFileName = \"/home/roxana/React-Project/datafilter/src/components/clouse/ClouseView.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Input, DatePicker, Select, Switch } from 'antd';\nimport clouseController from './clouseController';\nconst InputGroup = Input.Group;\nconst {\n  Option\n} = Select;\n\nconst fieldOptions = fields => {\n  const fieldNames = Array.from(fields.keys());\n  return fieldNames.map((item, index) => React.createElement(Option, {\n    key: index,\n    value: item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, item.toUpperCase()));\n};\n\nconst constraintOptions = (constraints, fields, fieldName) => {\n  const fieldType = fields.get(fieldName);\n  const constrains = Array.from(constraints.get(fieldType));\n  return constrains.map((item, index) => React.createElement(Option, {\n    key: index,\n    value: item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, item.toUpperCase()));\n};\n\nconst ClouseView = props => {\n  const {\n    deleteClouse,\n    queryIndex,\n    fields,\n    constraints\n  } = props;\n  const {\n    setFieldName,\n    data,\n    setConstraint,\n    setFieldValue\n  } = clouseController(props);\n  const jSonQuery = data.query.toJSON();\n\n  const generateInputByType = fieldType => {\n    switch (fieldType) {\n      case 'string':\n        return React.createElement(Input, {\n          value: jSonQuery.where[data.fieldName],\n          style: {\n            width: '20vw'\n          },\n          placeholder: \"String\",\n          onChange: e => setFieldValue(e.target.value),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n\n      case 'time':\n        return React.createElement(DatePicker, {\n          style: {\n            width: '10vw'\n          },\n          onChange: (date, dateString) => setFieldValue(dateString),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        });\n\n      case 'number':\n        return React.createElement(Input, {\n          value: jSonQuery.where[data.fieldName],\n          style: {\n            width: '10vw'\n          },\n          placeholder: \"Number\",\n          type: \"number\",\n          onChange: e => setFieldValue(e.target.value),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        });\n\n      case 'boolean':\n        return React.createElement(Switch, {\n          style: {\n            marginLeft: '10px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        });\n\n      default:\n        return React.createElement(Input, {\n          style: {\n            width: '10vw'\n          },\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        });\n    }\n  };\n\n  return React.createElement(InputGroup, {\n    compact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Select, {\n    defaultValue: Object.keys(jSonQuery.where)[0] || 'name',\n    onChange: value => setFieldName(value),\n    style: {\n      width: '10vw'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, fieldOptions(fields)), React.createElement(Select, {\n    defaultValue: \"EqualTo\",\n    onChange: value => setConstraint(value),\n    style: {\n      width: '10vw'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, constraintOptions(constraints, fields, data.fieldName)), generateInputByType(fields.get(Object.keys(jSonQuery.where)[0] || data.fieldName)), React.createElement(Button, {\n    icon: \"close\",\n    onClick: () => deleteClouse(queryIndex),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: () => console.log('jsonqery', jSonQuery.where[data.fieldName]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"show json query\")));\n};\n\nClouseView.propTypes = {\n  deleteClouse: PropTypes.func.isRequired,\n  queryIndex: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  fields: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  constraints: PropTypes.object.isRequired\n};\nexport default ClouseView;","map":{"version":3,"sources":["/home/roxana/React-Project/datafilter/src/components/clouse/ClouseView.jsx"],"names":["React","PropTypes","Button","Input","DatePicker","Select","Switch","clouseController","InputGroup","Group","Option","fieldOptions","fields","fieldNames","Array","from","keys","map","item","index","toUpperCase","constraintOptions","constraints","fieldName","fieldType","get","constrains","ClouseView","props","deleteClouse","queryIndex","setFieldName","data","setConstraint","setFieldValue","jSonQuery","query","toJSON","generateInputByType","where","width","e","target","value","date","dateString","marginLeft","Object","console","log","propTypes","func","isRequired","number","object"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Input, DatePicker, Select, Switch,\n} from 'antd';\nimport clouseController from './clouseController';\n\nconst InputGroup = Input.Group;\nconst { Option } = Select;\n\nconst fieldOptions = (fields) => {\n  const fieldNames = Array.from(fields.keys());\n  return fieldNames.map((item, index) => (\n    <Option\n      key={index}\n      value={item}\n    >\n      {item.toUpperCase()}\n    </Option>\n  ));\n};\n\nconst constraintOptions = (constraints, fields, fieldName) => {\n  const fieldType = fields.get(fieldName);\n  const constrains = Array.from(constraints.get(fieldType));\n  return constrains.map((item, index) => (\n    <Option\n      key={index}\n      value={item}\n    >\n      {item.toUpperCase()}\n    </Option>\n  ));\n};\n\nconst ClouseView = (props) => {\n  const {\n    deleteClouse,\n    queryIndex,\n    fields,\n    constraints,\n\n  } = props;\n  const {\n    setFieldName,\n    data,\n    setConstraint,\n    setFieldValue,\n  } = clouseController(props);\n\n  const jSonQuery = data.query.toJSON();\n\n  const generateInputByType = (fieldType) => {\n    switch (fieldType) {\n      case 'string':\n        return (\n          <Input\n            value={jSonQuery.where[data.fieldName]}\n            style={{ width: '20vw' }}\n            placeholder=\"String\"\n            onChange={(e) => setFieldValue(e.target.value)}\n          />\n        );\n      case 'time':\n        return (\n          <DatePicker\n            style={{ width: '10vw' }}\n            onChange={(date, dateString) => setFieldValue(dateString)}\n          />\n        );\n      case 'number':\n        return (\n          <Input\n            value={jSonQuery.where[data.fieldName]}\n            style={{ width: '10vw' }}\n            placeholder=\"Number\"\n            type=\"number\"\n            onChange={(e) => setFieldValue(e.target.value)}\n          />\n        );\n      case 'boolean':\n        return <Switch style={{ marginLeft: '10px' }} />;\n\n      default:\n        return <Input style={{ width: '10vw' }} disabled />;\n    }\n  };\n\n\n  return (\n    <InputGroup compact>\n      <span>\n        <Select\n          defaultValue={Object.keys(jSonQuery.where)[0] || 'name'}\n          onChange={(value) => setFieldName(value)}\n          style={{ width: '10vw' }}\n        >\n          {fieldOptions(fields)}\n        </Select>\n        <Select\n          defaultValue=\"EqualTo\"\n          onChange={(value) => setConstraint(value)}\n          style={{ width: '10vw' }}\n        >\n          {constraintOptions(constraints, fields, data.fieldName)}\n        </Select>\n        {generateInputByType((fields.get(Object.keys(jSonQuery.where)[0] || data.fieldName)))}\n        <Button icon=\"close\" onClick={() => deleteClouse(queryIndex)} />\n        <Button onClick={() => console.log('jsonqery', jSonQuery.where[data.fieldName])}>show json query</Button>\n      </span>\n    </InputGroup>\n  );\n};\n\n\nClouseView.propTypes = {\n  deleteClouse: PropTypes.func.isRequired,\n  queryIndex: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  fields: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  constraints: PropTypes.object.isRequired,\n\n};\n\nexport default ClouseView;\n"]},"metadata":{},"sourceType":"module"}