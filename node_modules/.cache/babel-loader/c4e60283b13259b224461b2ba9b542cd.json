{"ast":null,"code":"var _jsxFileName = \"/home/roxana/React-Project/datafilter/src/App.jsx\";\nimport React from 'react';\nimport Parse from 'parse';\nimport { Map, Record } from 'immutable';\nimport { Button } from 'antd';\nimport OprandView from './components/oprand/OprandView';\nconst fields = Map({\n  name: 'string',\n  id: 'number',\n  date: 'time',\n  boolean: 'boolean'\n});\nconst constraints = Map({\n  string: ['Contains', 'StartsWith', 'EndsWith', 'EqualTo', 'NotEqualTo', 'GreaterThan', 'LessThan', 'GreaterThanOrEqualTo', 'LessThanOrEqualTo', 'IsEmpty', 'NotIsEmpty', 'IsNull', 'NotIsNull'],\n  number: ['EqualTo', 'NotEqualTo', 'GreaterThan', 'LessThan', 'GreaterThanOrEqualTo', 'LessThanOrEqualTo', 'IsNull', 'NotIsNull'],\n  time: ['EqualTo', 'NotEqualTo', 'GreaterThan', 'LessThan', 'GreaterThanOrEqualTo', 'LessThanOrEqualTo', 'IsNull', 'NotIsNull'],\n  boolean: [],\n  default: ['EqualTo', 'NotEqualTo', 'GreaterThan', 'LessThan', 'GreaterThanOrEqualTo', 'LessThanOrEqualTo', 'IsNull', 'NotIsNull']\n});\nconst ClouseQuery = Parse.Object.extend('ClouseQuery');\nconst mainQuery = new Parse.Query(ClouseQuery);\nconst filterData = {\n  op: 'and',\n  childs: [],\n  mainQuery,\n  searchResults: []\n};\n\nconst makeMainQuery = oprandData => {\n  console.log();\n  console.log('makemain query', oprandData);\n  let mainQuery = new Parse.Query(ClouseQuery);\n\n  if (oprandData.op === 'and') {\n    oprandData.childs.map(item => {\n      if (!item.childs) {\n        mainQuery = Parse.Query.and(mainQuery, item);\n      } else {\n        mainQuery = Parse.Query.and(mainQuery, item.mainQuery);\n      }\n    });\n  } else {\n    oprandData.childs.map(item => {\n      if (!item.childs) {\n        mainQuery = Parse.Query.or(mainQuery, item);\n      } else {\n        mainQuery = Parse.Query.and(mainQuery, item.mainQuery);\n      }\n    });\n  }\n\n  filterData.mainQuery = mainQuery;\n};\n\nfunction App() {\n  return React.createElement(React.Fragment, null, React.createElement(Button, {\n    onClick: () => makeMainQuery(filterData),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Search\"), React.createElement(OprandView, {\n    makeMainQuery: makeMainQuery,\n    filterData: filterData,\n    constraints: constraints,\n    fields: fields,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/roxana/React-Project/datafilter/src/App.jsx"],"names":["React","Parse","Map","Record","Button","OprandView","fields","name","id","date","boolean","constraints","string","number","time","default","ClouseQuery","Object","extend","mainQuery","Query","filterData","op","childs","searchResults","makeMainQuery","oprandData","console","log","map","item","and","or","App"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Parse from 'parse';\nimport { Map, Record } from 'immutable';\nimport { Button } from 'antd';\nimport OprandView from './components/oprand/OprandView';\n\n\nconst fields = Map({\n  name: 'string',\n  id: 'number',\n  date: 'time',\n  boolean: 'boolean',\n});\n\nconst constraints = Map({\n  string: [\n    'Contains',\n    'StartsWith',\n    'EndsWith',\n    'EqualTo',\n    'NotEqualTo',\n    'GreaterThan',\n    'LessThan',\n    'GreaterThanOrEqualTo',\n    'LessThanOrEqualTo',\n    'IsEmpty',\n    'NotIsEmpty',\n    'IsNull',\n    'NotIsNull',\n  ],\n  number: [\n    'EqualTo',\n    'NotEqualTo',\n    'GreaterThan',\n    'LessThan',\n    'GreaterThanOrEqualTo',\n    'LessThanOrEqualTo',\n    'IsNull',\n    'NotIsNull',\n  ],\n  time: [\n    'EqualTo',\n    'NotEqualTo',\n    'GreaterThan',\n    'LessThan',\n    'GreaterThanOrEqualTo',\n    'LessThanOrEqualTo',\n    'IsNull',\n    'NotIsNull',\n  ],\n  boolean: [],\n  default: [\n    'EqualTo',\n    'NotEqualTo',\n    'GreaterThan',\n    'LessThan',\n    'GreaterThanOrEqualTo',\n    'LessThanOrEqualTo',\n    'IsNull',\n    'NotIsNull',\n  ],\n\n});\n\nconst ClouseQuery = Parse.Object.extend('ClouseQuery');\nconst mainQuery = new Parse.Query(ClouseQuery);\n\nconst filterData = {\n  op: 'and',\n  childs: [],\n  mainQuery,\n  searchResults: [],\n};\n\n\nconst makeMainQuery = (oprandData) => {\n  console.log();\n  console.log('makemain query', oprandData);\n  let mainQuery = new Parse.Query(ClouseQuery);\n  if (oprandData.op === 'and') {\n    oprandData.childs.map((item) => {\n      if (!item.childs) { mainQuery = Parse.Query.and(mainQuery, item); } else {\n        mainQuery = Parse.Query.and(mainQuery, item.mainQuery);\n      }\n    });\n  } else {\n    oprandData.childs.map((item) => {\n      if (!item.childs) { mainQuery = Parse.Query.or(mainQuery, item); } else {\n        mainQuery = Parse.Query.and(mainQuery, item.mainQuery);\n      }\n    });\n  }\n  filterData.mainQuery = mainQuery;\n};\n\n\nfunction App() {\n  return (\n    <>\n      <Button onClick={() => makeMainQuery(filterData)}>Search</Button>\n\n      <OprandView\n        makeMainQuery={makeMainQuery}\n        filterData={filterData}\n        constraints={constraints}\n        fields={fields}\n      />\n    </>\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}