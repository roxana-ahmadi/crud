{"ast":null,"code":"/* eslint-disable no-underscore-dangle */\nimport { Record } from 'immutable';\nimport { withState, withHandlers, pipe } from '../../util';\n\nconst setConstraint = ({\n  setData\n}) => selectedConstraint => {\n  setData(d => d.set('selectedConstraint', selectedConstraint));\n};\n\nconst setFieldValue = ({\n  data,\n  setData,\n  makeMainQuery\n}) => fieldValue => {\n  data.query._where = {}; // eslint-disable-next-line default-case\n\n  switch (data.selectedConstraint) {\n    case 'EqualTo':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.equalTo(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'NotEqualTo':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.notEqualTo(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'GreaterThan':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.greaterThan(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'LessThan':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.lessThan(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'GreaterThanOrEqualTo':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.greaterThanOrEqualTo(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'LessThanOrEqualTo':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.lessThanOrEqualTo(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'StartsWith':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.startsWith(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'Contains':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.contains(data.fieldName, fieldValue)\n      }));\n      break;\n\n    case 'EndsWith':\n      setData(d => d.merge({\n        fieldValue,\n        query: data.query.endsWith(data.fieldName, fieldValue)\n      }));\n      break;\n\n    default:\n      setData(d => d.set('query', data.query.equalTo(data.fieldName, fieldValue)));\n  }\n\n  makeMainQuery();\n};\n\nconst setFieldName = ({\n  setData,\n  data\n}) => fieldName => {\n  setData(d => d.merge({\n    fieldValue: '',\n    fieldName\n  })); // console.log('quet', data.query);\n};\n\nconst init = props => Record({\n  fieldName: 'name',\n  fieldValue: '',\n  query: props.query,\n  selectedConstraint: 'EqualTo',\n  counter: props.counter,\n  jsonq: props.query.toJSON()\n});\n\nconst clouseController = pipe(withState(props => init(props)), withHandlers({\n  setFieldValue,\n  setConstraint,\n  setFieldName\n}));\nexport default clouseController;","map":{"version":3,"sources":["/home/roxana/React-Project/datafilter/src/components/clouse/clouseController.js"],"names":["Record","withState","withHandlers","pipe","setConstraint","setData","selectedConstraint","d","set","setFieldValue","data","makeMainQuery","fieldValue","query","_where","merge","equalTo","fieldName","notEqualTo","greaterThan","lessThan","greaterThanOrEqualTo","lessThanOrEqualTo","startsWith","contains","endsWith","setFieldName","init","props","counter","jsonq","toJSON","clouseController"],"mappings":"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","sourcesContent":["/* eslint-disable no-underscore-dangle */\nimport {\n  Record,\n} from 'immutable';\nimport {\n  withState, withHandlers, pipe,\n} from '../../util';\n\n\nconst setConstraint = ({ setData }) => (selectedConstraint) => {\n  setData((d) => d.set('selectedConstraint', selectedConstraint));\n};\n\nconst setFieldValue = ({ data, setData, makeMainQuery }) => (fieldValue) => {\n  data.query._where = {};\n\n  // eslint-disable-next-line default-case\n  switch (data.selectedConstraint) {\n    case 'EqualTo':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.equalTo(data.fieldName, fieldValue),\n      }));\n      break;\n    case 'NotEqualTo':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.notEqualTo(data.fieldName, fieldValue),\n      }));\n      break;\n    case 'GreaterThan':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.greaterThan(data.fieldName, fieldValue),\n      }));\n      break;\n    case 'LessThan':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.lessThan(data.fieldName, fieldValue),\n      }));\n      break;\n    case 'GreaterThanOrEqualTo':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.greaterThanOrEqualTo(data.fieldName, fieldValue),\n      }));\n      break;\n    case 'LessThanOrEqualTo':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.lessThanOrEqualTo(data.fieldName, fieldValue),\n      }));\n      break;\n\n    case 'StartsWith':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.startsWith(data.fieldName, fieldValue),\n      }));\n      break;\n    case 'Contains':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.contains(data.fieldName, fieldValue),\n      }));\n      break;\n    case 'EndsWith':\n      setData((d) => d.merge({\n        fieldValue,\n        query: data.query.endsWith(data.fieldName, fieldValue),\n      }));\n      break;\n    default:\n      setData((d) => d.set('query', data.query.equalTo(data.fieldName, fieldValue)));\n  }\n  makeMainQuery();\n};\n\nconst setFieldName = ({ setData, data }) => (fieldName) => {\n  setData((d) => d.merge({\n    fieldValue: '',\n    fieldName,\n  }));\n  // console.log('quet', data.query);\n};\n\nconst init = (props) => Record({\n  fieldName: 'name',\n  fieldValue: '',\n  query: props.query,\n  selectedConstraint: 'EqualTo',\n  counter: props.counter,\n  jsonq: props.query.toJSON(),\n\n});\n\nconst clouseController = pipe(\n  withState((props) => init(props)),\n  withHandlers({\n    setFieldValue,\n    setConstraint,\n    setFieldName,\n  }),\n);\n\nexport default clouseController;\n"]},"metadata":{},"sourceType":"module"}